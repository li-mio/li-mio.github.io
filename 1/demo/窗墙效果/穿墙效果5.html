<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>穿墙</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style>
    *{padding:0;margin:0;list-style:none;}
    #ul1 li{width:200px;height:200px;background:#ccc;overflow:hidden;position:relative;float:left;margin:10px;border-radius:50%;}
    #ul1 li span{width:200px;height:200px;background:red;opacity:0.3;position:absolute;left:-200px;top:0;border-radius:50%;text-align:center;line-height:200px;font-size:30px;color:white;}
</style>
<script src="move.js"></script>
<script>
function through(obj){
      function a2d(n){
            return n*180/Math.PI;
        }
        function d2a(n){
            return n*math.PI/180;
        }
        function hoverDir(obj,ev){
            var x=obj.offsetLeft+obj.offsetWidth/2-ev.clientX;
            var y=obj.offsetTop+obj.offsetHeight/2-ev.clientY;
            return Math.round((a2d(Math.atan2(y,x))+180)/90)%4;
        }
        obj.onmouseover=function(ev){
            var oS=obj.children[0];
            var oEvent=ev||event;
            var oFrom=oEvent.fromElement||oEvent.relatedTarger;
            if(obj.contains(oFrom)){
                return;
            }
            var dir=hoverDir(obj,oEvent);
            switch(dir){
                case 0:
                    oS.style.left='200px';
                    oS.style.top='0';
                    break;
                case 1:
                    oS.style.left='0';
                    oS.style.top='200px';
                    break;
                case 2:
                    oS.style.left='-200px';
                    oS.style.top='0';
                    break;

                case 3:
                    oS.style.left='0';
                    oS.style.top='-200px';
                    break;
              
            }
            move(oS,{left:0,top:0});
        };
        obj.onmouseout=function(ev){
            var oS=obj.children[0];
            var oEvent=ev||event;
            var oTo=oEvent.toElement||oEvent.relatedTarget;
            if(obj.contains(oTo)){
                return;
            }
            var dir=hoverDir(obj,oEvent);
            switch(dir){
                case 0:
                    move(oS,{left:200,top:0});
                    break;
                case 1:
                    move(oS,{left:0,top:200});
                    break;
                 case 2:
                    move(oS,{left:-200,top:0});
                    break;
                 case 3:
                    move(oS,{left:0,top:-200});
                    break;
            }
        };
}
    window.onload=function(){
        var oUl=document.getElementById('ul1');
        var aLi=oUl.children;

        for(var i=0;i<aLi.length;i++){
            through(aLi[i]);
        }
      
    };
</script>
</head>
<body>
    <div id="div1">
        <ul id="ul1">
            <li><span>淡淡的忧伤还是最美</span></li>
            <li><span>剧情是你在写</span></li>
            <li><span>有点无解，我们之间</span></li>
            <li><span>踏着雪,不知不觉走了很远</span></li>
            <li><span>绕着圈</span></li>
            <li><span>一整天，旋律我哼了一千遍</span></li>
            <li><span>没有你的冬天</span></li>
            <li><span>我会一直唱着</span></li>
            <li><span>知道你出现</span></li>
            <li><span>为你封麦</span></li>
            <li><span>只唱你爱</span></li>
            <li><span>曲终人散</span></li>
            <li><span>你也走散</span></li>
            <li><span>爱情里的废柴</span></li>
            <li><span>你的离开</span></li>
            <li><span>我的依赖</span></li>
            <li><span>眼泪打转</span></li>
            <li><span>转不回来</span></li>
           
        </ul>
    </div>
</body>
</html>